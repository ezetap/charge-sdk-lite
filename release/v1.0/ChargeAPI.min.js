!function(e){"use strict";function t(){var e={},t="",a="",n="",r="http://services-demo.ezetap.com/charge_api/v1";e.initialize=function(e,r,l,o){if(t=e,n=r,a=l,e&&r&&l)var c={status:"success"};else var c={status:"failure",error:{code:"400",message:"Initialize failed"}};o&&o(c)},e.viewCharge=function(e,t){var a="/charges/"+e;try{o(r+a,function(e){t&&t(e)})}catch(n){console.log(n)}},e.createCharge=function(e,t){var a="/charges/";try{e.accountId=n,l(e,r+a,function(e){t&&t(e)})}catch(o){console.log(o)}},e.walletTransaction=function(t,n,o,c){try{var i="/remotePay/walletTransaction",s=function(e){var n={chargeId:e,walletProvider:t,username:a};l(n,r+i,function(e){if("SUCCESS"==e.status){var t={status:"SUCCESS",result:{currentTxnId:e.result.txnId,chargeId:o}};c(t)}else c(e)})};o?s(o):o||e.createCharge(n,function(e){if("SUCCESS"==e.status){var t=e.result.id;s(t)}else c(e)})}catch(u){console.log(u)}},e.confirmWalletTransaction=function(e,t,a){try{var n="/remotePay/confirmWalletTransaction",o={txnId:e,walletOTP:t};l(o,r+n,function(e){if(e&&"SUCCESS"==e.status){var t=e.result.currentTransaction,n={status:"SUCCESS",result:{currentTxn:{txnId:t.txnId,txnDate:t.transactionDate,txnType:t.txnType,paymentMode:t.paymentMode,amount:t.amount,receiptURL:t.receiptUrl,wallet:{walletProvider:t.wallet.walletProvider,walletCustomerAuthId:t.wallet.walletCustomerAuthId,walletChannelId:t.wallet.walletChannelId,walletMid:t.wallet.walletMid,walletAcquirer:t.wallet.walletAcquirer,walletRefTxnId:t.wallet.walletRefTxnId}},charge:e.result.charge}};a&&a(n)}else a&&a(e)})}catch(c){console.log(c)}};var l=function(e,a,n){$.ajax({type:"POST",url:a,data:JSON.stringify(e),headers:{key:t,"Content-Type":"application/json"},success:function(e){"function"==typeof n&&n(e)},error:function(e){"function"==typeof n&&n(e.responseText)},dataType:"json"})},o=function(e,a){$.ajax({type:"GET",url:e,headers:{key:t,"Content-Type":"application/json"},success:function(e){"function"==typeof a&&a(e)},error:function(e){"function"==typeof a&&a(e)},dataType:"json"})};return e}"undefined"==typeof ChargeAPI?e.ChargeAPI=t():console.log("ChargeAPI Already defined")}(window);